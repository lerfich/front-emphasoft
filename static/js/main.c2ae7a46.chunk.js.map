{"version":3,"sources":["components/Modal/Modal.module.css","components/UserList/UserList.module.css","components/UserList/ShowUsers/ShowUsers.module.css","App.module.css","components/LoginField/LoginField.module.css","components/Loader/Loader.module.css","components/Modal/Modal.js","utils/getAuthToken.js","utils/client.js","components/LoginField/LoginField.js","components/Loader/Loader.js","components/UserList/ShowUsers/ShowUsers.js","components/UserList/SwitchSorter/SwitchSorter.js","components/UserList/Switcher/Switcher.js","components/UserList/Filters/Filters.js","components/UserList/Search/Search.js","components/UserList/UserList.js","reducer.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","Modal","visible","content","footer","onClose","onKeydown","key","React","useEffect","document","addEventListener","removeEventListener","className","classes","modal","onClick","modalDialog","e","stopPropagation","modalHeader","modalClose","modalBody","modalContent","modalFooter","saveAuthToken","loginData","a","axios","post","result","window","localStorage","setItem","data","token","console","log","getItem","getAuthToken","headers","client","create","baseURL","interceptors","response","use","error","Promise","reject","LoginField","onLogin","setLoading","useState","username","setUsername","password","setPassword","isModal","setModal","setContent","joinRoom","trim","get","users","loginBlock","type","placeholder","value","onChange","target","Loader","loading","ldsRoller","ShowUsers","activeUserList","map","index","id","isOther","IdSortSwitch","onSort","name","htmlFor","defaultChecked","Switcher","checked","addFilter","toShow","text","disabled","Filters","onFilter","partName","showActive","setActive","showSuperuser","setSuperuser","showAll","setAll","filter","findUser","usersToFilter","user","toLowerCase","includes","filteredUsers","is_active","is_superuser","Search","onSearch","setPart","UserList","sortBy","setSortType","setFilter","script","createElement","src","setAttribute","async","getElementById","appendChild","box","userList","filteredArray","SwitchSorter","whichSort","length","filtered","slice","sort","b","sortUsers","reducer","state","action","joined","payload","App","useReducer","dispatch","obj","wrapper","to","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.c2ae7a46.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"Modal_modal__P3_V5\",\"appear\":\"Modal_appear__3P-Ut\",\"modalDialog\":\"Modal_modalDialog__3OEqW\",\"animatetop\":\"Modal_animatetop__eULZH\",\"slide-in\":\"Modal_slide-in__1YScK\",\"modalHeader\":\"Modal_modalHeader__2ik2T\",\"modalFooter\":\"Modal_modalFooter__2dKHi\",\"modalClose\":\"Modal_modalClose__udA7j\",\"modalBody\":\"Modal_modalBody__1CdAm\",\"modalContent\":\"Modal_modalContent__1rYYD\",\"modalTitle\":\"Modal_modalTitle__BrJuw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"UserList_box__2mk2b\",\"userList\":\"UserList_userList__3sO8c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"activeUserList\":\"ShowUsers_activeUserList__2mp2J\",\"isOther\":\"ShowUsers_isOther__30bhD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\",\"wrapper\":\"App_wrapper__2Rh_f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginBlock\":\"LoginField_loginBlock__19fvA\",\"ldsRing\":\"LoginField_ldsRing__MuapJ\",\"lds-ring\":\"LoginField_lds-ring__6E2BH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ldsRoller\":\"Loader_ldsRoller__16K5j\"};","import classes from './Modal.module.css'\nimport PropTypes from 'prop-types';\n\nimport React from 'react'\n\nconst Modal = ({\n  visible = false,\n  content = {},\n  footer = {},\n  onClose,\n}: ModalProps) => {\n  // создаем обработчик нажатия клавиши Esc\n  const onKeydown = ({ key }: KeyboardEvent) => {\n    switch (key) {\n      case 'Escape':\n        onClose()\n        break\n      default: break;\n    }\n  }\n\n  React.useEffect(() => {\n    document.addEventListener('keydown', onKeydown)\n    return () => document.removeEventListener('keydown', onKeydown)\n  })\n\n  //если компонент невидим, то не отображаем его\n  if (!visible) return null\n\n  //или возвращаем верстку модального окна\n  return (\n    <div className={classes.modal} onClick={onClose}>\n      <div className={classes.modalDialog} onClick={e => e.stopPropagation()}>\n        <div className={classes.modalHeader}>\n          <span className={classes.modalClose} onClick={onClose}>\n            &times;\n          </span>\n        </div>\n        <div className={classes.modalBody}>\n          <div className={classes.modalContent}><p>{content}</p></div>\n        </div>\n        {footer && <div className={classes.modalFooter}>{footer}</div>}\n      </div>\n    </div>\n  )\n}\n\nModal.propTypes = {\n  visible: PropTypes.bool.isRequired,\n  content: PropTypes.string,\n  footer: PropTypes.object.isRequired,\n  onClose: PropTypes.func.isRequired,\n}\n\nexport default Modal;\n","import axios from 'axios'\n\nexport const saveAuthToken =  async (loginData) => {\n\n  // const loginData = {\n  //   \"username\": \"test_super\",\n  //   \"password\": \"Nf<U4f<rDbtDxAPn\"\n  // }\n\n  const result = await axios.post('http://emphasoft-test-assignment.herokuapp.com/api-token-auth/', loginData)\n  window.localStorage.setItem('token', result.data.token);\n  console.log(result.data.token, '<- token; also got getItem ->', window.localStorage.getItem('token'))\n};\n\nexport const getAuthToken = () => {\n  return window.localStorage.getItem('token');\n};\n","import axios from 'axios';\nimport { getAuthToken } from './getAuthToken';\n\nconst headers: Record<string, string> = {\n  'accept': 'application/json',\n  'content-type': 'application/json'\n};\n\nconst token = getAuthToken();\n\nif (token) {\n  headers['Authorization'] = `Token ${token}`;\n}\n\nexport const client = axios.create({\n  baseURL: 'http://emphasoft-test-assignment.herokuapp.com/',\n  headers\n});\n\nexport const updateClient = () => {\n  const token = getAuthToken();\n  client.defaults.headers['Authorization'] = `Token ${token}`;\n};\n\nclient.interceptors.response.use(\n  (response) => {\n    return response.data;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n","import React from 'react';\n// import  rand  from './../function/randint.js'\nimport PropTypes from 'prop-types';\nimport classes from './LoginField.module.css'\nimport Modal from '../Modal/Modal.js'\nimport { client } from '../../utils/client.js'\nimport { saveAuthToken } from '../../utils/getAuthToken.js'\n\n\nfunction LoginField({onLogin, setLoading}){\n\n  //состояния имени пользователя, пароля и загрузки\n  const [username, setUsername] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  //состояние для модального окна и контента в нем\n  const [isModal, setModal] = React.useState(false);\n  const [content, setContent] = React.useState(null);\n\n  //функция для закрытия модального окна\n  const onClose = () => setModal(false);\n\n  //валидация данных\n  const joinRoom = async () => {\n    if(!!username.trim() === false) {\n        setContent('Введите имя')\n        setModal(true);\n        return;\n    }else if(!!password.trim() === false) {\n        setContent('Введите пароль')\n        setModal(true);\n        return;\n    }else if(username !== 'a' | password !== 'a') {\n      setContent('Вы ввели неверный логин или пароль')\n      setModal(true);\n      return;\n    }\n\n    //сохраняем данные в localStorage\n    saveAuthToken(\n      {\n        \"username\": `${username}`,\n        \"password\": `${password}`\n      }\n    );\n\n    setLoading(true);\n\n    //отправляем запрос на получение списка пользователей\n    const users = await client.get('http://emphasoft-test-assignment.herokuapp.com/api/v1/users/')\n\n    const obj = {\n      username,\n      users\n    }\n    onLogin(obj);\n    setLoading(false);\n  }\n\n  //при нажатии на Enter выполняется попытка входа в комнату\n  const onKeydown = ({ key }: KeyboardEvent) => {\n    switch (key) {\n      case 'Enter':\n        joinRoom();\n        break;\n      default: break;\n    }\n  }\n\n  React.useEffect(() => {\n    document.addEventListener('keydown', onKeydown)\n    return () => document.removeEventListener('keydown', onKeydown)\n  })\n\n  return (\n      <div className={classes.loginBlock}>\n        <Modal\n            visible={isModal}\n            content={content}\n            footer={<button onClick={onClose}>Закрыть</button>}\n            onClose={onClose}\n        />\n        <input\n          type=\"text\"\n          placeholder=\"Введите логин\"\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n        />\n        <input\n          type=\"text\"\n          placeholder=\"Введите пароль\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n        />\n        <button onClick={joinRoom}>\n           Войти\n        </button>\n      </div>\n  );\n}\n\nLoginField.propTypes = {\n  onLogin: PropTypes.func.isRequired,\n  setLoading: PropTypes.func.isRequired,\n}\n\nexport default LoginField;\n","import classes from './Loader.module.css'\nimport PropTypes from 'prop-types';\n\nfunction Loader({loading}) {\n  return(\n    (loading)\n    ? (<div className={classes.ldsRoller}><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>)\n    : (<div/>)\n  )\n}\n\nLoader.propTypes = {\n    loading: PropTypes.bool.isRequired,\n}\n\nexport default Loader;\n","import classes from './ShowUsers.module.css'\nimport PropTypes from 'prop-types';\n\nfunction ShowUsers({users}) {\n  return (\n    <ul className={classes.activeUserList}>\n      {users.map(({id, username}, index) =>\n         (<li key={id} className={classes.isOther}> {username + ' id-' + id} </li>)\n    )}\n    </ul>\n  );\n}\n\nShowUsers.propTypes = {\n    users: PropTypes.array.isRequired,\n}\n\nexport default ShowUsers;\n","import PropTypes from 'prop-types';\n\nfunction IdSortSwitch({onSort}) {\n  return (\n    <div>\n      <div className=\"form-check\">\n        <input className=\"form-check-input\" type=\"radio\" name=\"xd\" id=\"inlineRadio1\" onClick={() => {onSort('asc')}}/>\n        <label className=\"form-check-label\" htmlFor=\"inlineRadio1\" >by asc id</label>\n      </div>\n      <div className=\"form-check\">\n        <input className=\"form-check-input\" type=\"radio\" name=\"xd\" id=\"inlineRadio2\" onClick={() => {onSort('desc')}}/>\n        <label className=\"form-check-label\" htmlFor=\"inlineRadio2\">by desc id</label>\n      </div>\n      <div className=\"form-check\">\n        <input className=\"form-check-input\" type=\"radio\" name=\"xd\" id=\"inlineRadio3\" onClick={() => {onSort('byName')}}/>\n        <label className=\"form-check-label\" htmlFor=\"inlineRadio3\">by name</label>\n      </div>\n      <div className=\"form-check\">\n        <input className=\"form-check-input\" type=\"radio\" name=\"xd\" id=\"inlineRadio4\" onClick={() => {onSort(null)}} defaultChecked/>\n        <label className=\"form-check-label\" htmlFor=\"inlineRadio4\">default</label>\n      </div>\n    </div>\n  );\n}\n\nIdSortSwitch.propTypes = {\n    onSort: PropTypes.func.isRequired,\n}\n\nexport default IdSortSwitch;\n","import PropTypes from 'prop-types';\n\nfunction Switcher({id, checked, addFilter, toShow, text, disabled}) {\n  return (\n    <div className='custom-control custom-switch'>\n      <input\n        type='checkbox'\n        className='custom-control-input'\n        id={id}\n        checked={checked}\n        onChange={() => addFilter(toShow)}\n        disabled={disabled}\n      />\n      <label className='custom-control-label' htmlFor={id}>\n        {text}\n      </label>\n    </div>\n  );\n}\n\nSwitcher.propTypes = {\n    id: PropTypes.string.isRequired,\n    checked: PropTypes.bool.isRequired,\n    addFilter: PropTypes.func.isRequired,\n    toShow: PropTypes.string.isRequired,\n    text: PropTypes.string.isRequired,\n    disabled: PropTypes.bool.isRequired,\n}\n\nexport default Switcher;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport Switcher from '../Switcher/Switcher.js'\n\nfunction Filters({onFilter, users, partName}) {\n\n  //состояния для хранения отображения активных пользователей, суперюзеров и всех участников\n  const [showActive, setActive] = React.useState(false)\n  const [showSuperuser, setSuperuser] = React.useState(false);\n  const [showAll, setAll] = React.useState(false);\n\n  //обработчики нажатий на кнопки фильтров\n  const addFilter = (filter) => {\n    switch (filter) {\n      case 'is_active':{\n        setActive(!showActive);\n        return\n      }\n\n      case 'is_superuser':{\n        setSuperuser(!showSuperuser);\n        return\n      }\n\n      case 'is_all':{\n        setAll(!showAll);\n        return\n      }\n\n      default:\n        return\n    }\n  }\n\n  //поиск пользователей по части имени\n  const findUser = (partName, usersToFilter) => {\n    if (!partName.trim()) return usersToFilter\n    else {\n        const result = usersToFilter.filter((user) => user.username.toLowerCase().includes(partName.toLowerCase()))\n        return result\n    }\n  }\n\n  //Проверка одного из состояний фильтров и отправка соответстующих пользователей для отображения\n  React.useEffect(() => {\n    if(showAll) {\n      onFilter(findUser(partName, users));\n    } else {\n      if(showActive & showSuperuser){\n        const filteredUsers = users.filter((user) => {\n          return (user.is_active === true) & (user.is_superuser === true);\n        });\n        onFilter(findUser(partName, filteredUsers));\n      }else if(showActive & !showSuperuser){\n        const filteredUsers = users.filter((user) => {\n          return (user.is_active === true) & (user.is_superuser === false);\n        });\n        onFilter(findUser(partName, filteredUsers));\n      }else if(!showActive & showSuperuser){\n        const filteredUsers = users.filter((user) => {\n          return (user.is_active === false) & (user.is_superuser === true);\n        });\n        onFilter(findUser(partName, filteredUsers));\n      }else if(!showActive & !showSuperuser){\n        const filteredUsers = users.filter((user) => {\n          return (user.is_active === false) & (user.is_superuser === false);\n        });\n        onFilter(findUser(partName, filteredUsers));\n      }\n    }\n  }, [showActive, showSuperuser, showAll, partName]);\n\n  return (\n    <div>\n        <Switcher id={'customAll'} checked={showAll} addFilter={addFilter} text={'show all'} toShow={'is_all'} disabled={false}/>\n        <Switcher id={'customActive'} checked={showActive} addFilter={addFilter} text={'filter active'} toShow={'is_active'} disabled={showAll}/>\n        <Switcher id={'customSuper'} checked={showSuperuser} addFilter={addFilter} text={'filter superuser'} toShow={'is_superuser'} disabled={showAll}/>\n    </div>\n  );\n}\n\nFilters.propTypes = {\n    onFilter: PropTypes.func.isRequired,\n    users: PropTypes.array.isRequired,\n    partName: PropTypes.string.isRequired\n}\n\nexport default Filters;\n","import PropTypes from 'prop-types';\nimport React from 'react';\n\nfunction Search({onSearch}) {\n\n  //состояния для хранения отображения активных пользователей, суперюзеров и всех участников\n  const [partName, setPart] = React.useState('')\n\n  //при нажатии на Enter выполняется попытка входа в комнату\n  const onKeydown = ({ key }: KeyboardEvent) => {\n    switch (key) {\n      case 'Enter':\n        onSearch(partName);\n        break;\n      default: break;\n    }\n  }\n\n  React.useEffect(() => {\n    document.addEventListener('keydown', onKeydown)\n    return () => document.removeEventListener('keydown', onKeydown)\n  })\n\n  return (\n    <div className=\"input-group rounded\">\n      <input className=\"form-control rounded\" aria-label=\"Search\"\n      aria-describedby=\"search-addon\"\n      type=\"text\"\n      placeholder=\"Искать пользователя\"\n      value={partName}\n      onChange={(e) => setPart(e.target.value)}/>\n      <span className=\"input-group-text border-0\" id=\"search-addon\">\n      <button className=\"bi bi-search\" onClick={() => onSearch(partName)}>  </button>\n      </span>\n    </div>\n  );\n}\n\nSearch.propTypes = {\n  onSearch: PropTypes.func.isRequired,\n}\n\nexport default Search;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classes from './UserList.module.css'\nimport Loader from '../Loader/Loader.js'\nimport ShowUsers from './ShowUsers/ShowUsers.js'\nimport SwitchSorter from './SwitchSorter/SwitchSorter.js'\nimport Filters from './Filters/Filters.js'\nimport Search from './Search/Search.js'\nimport { useEffect, useRef } from 'react';\n\n\nfunction UserList({ users, username, loading}) {\n\n  //состояние для вида сортировки пользователей\n  const [sortBy, setSortType] = React.useState(null);\n\n  //состояние для отображения отфильтрованных пользователей\n  const [filteredUsers, setFilter] = React.useState(users);\n\n  const [partName, setPart] = React.useState('');\n\n  //функция для актуализации отсортированных пользователей\n  const onSort = (whichSort) => {\n    setSortType(whichSort);\n  }\n\n  //функция для актуализации отфильтрованных пользователей\n  const onFilter = (filteredArray) => {\n    setFilter(filteredArray)\n  }\n\n  const onSearch = (partName) => {\n    setPart(partName)\n  }\n\n  //сортировка пользователей по одному из трех параметров\n  const sortUsers = (filtered) => {\n    switch (sortBy) {\n      case 'asc':{\n        const sortedUsers = filtered.slice();\n        return sortedUsers.sort((a, b) => a.id > b.id ? 1 : -1);\n      }\n      case 'desc':{\n        const sortedUsers = filtered.slice();\n        return sortedUsers.sort((a, b) => a.id > b.id ? -1 : 1);\n      }\n\n      case 'byName':{\n        const sortedUsers = filtered.slice();\n        return sortedUsers.sort((a, b) => a.username > b.username ? 1 : -1);\n      }\n\n      default:\n        return filtered;\n    }\n  }\n\n  // function onTelegramAuth(user) {\n  //   console.log(user, 'user')\n  //   alert('Logged in as ' + user.first_name + ' ' + user.last_name + ' (' + user.id + (user.username ? ', @' + user.username : '') + ')');\n  // }\n\n  useEffect(() => {\n    const script = document.createElement('script');\n    script.src = \"https://telegram.org/js/telegram-widget.js?15\";\n    script.setAttribute('data-telegram-login', \"Lin444Bot\");\n    script.setAttribute('data-size', 'large');\n    script.setAttribute('data-request-access', 'write');\n    // script.setAttribute('data-userpic', true);\n    script.setAttribute('data-onauth', 'console.log(user, \"lmao\")');\n    script.async = true;\n    document.getElementById('lol').appendChild(script)\n    // this.instance.appendChild(script);\n\n  });\n\n  return (\n      <div id=\"lol\" className={classes.box}>\n\n        <div className={classes.userList}>\n          Вы зашли в хаб:)\n          <hr/>\n          <Filters onFilter={onFilter} users={users} partName={partName}/>\n          <SwitchSorter onSort={onSort}/>\n          <Search onSearch={onSearch}/>\n          <b>Онлайн ({filteredUsers.length}):</b>\n          <ShowUsers users={sortUsers(filteredUsers)}/>\n          <Loader loading={loading}/>\n        </div>\n        <div> Hello, {username} </div>\n      </div>\n  );\n}\n\nUserList.propTypes = {\n    users: PropTypes.array.isRequired,\n    username: PropTypes.string,\n    loading: PropTypes.bool.isRequired,\n}\n\nexport default UserList;\n","const reducer = (state, action) => {\n  switch (action.type) {\n    case 'JOINED':\n      return {\n        ...state,\n        joined: true,\n        username: action.payload.username,\n        users: action.payload.users,\n      };\n\n    default:\n      return state;\n  }\n};\nexport default reducer;\n","import classes from './App.module.css';\nimport React from 'react';\nimport LoginField from './components/LoginField/LoginField.js'\nimport UserList from './components/UserList/UserList.js'\n\nimport { useEffect, useRef } from 'react';\n\nimport reducer from './reducer';\n\nimport {BrowserRouter as Router, Route, Redirect} from 'react-router-dom'\n\n\nfunction App() {\n  //состояние входа, логина (псевдонима) и списка загруженных пользователей\n  const [state, dispatch] = React.useReducer(reducer, {\n   joined: false,\n   username: null,\n   users: [],\n  });\n\n  //состояние загрузки пользователей\n  const [loading, setLoading] = React.useState(false);\n\n//функция выполняется при успешном заходе в комнату\n  const onLogin = async (obj) => {\n    dispatch({\n          type: 'JOINED',\n          payload: obj,\n    });\n    console.log('some1 has joined');\n  }\n\n  return (\n    <Router>\n      <div className={classes.wrapper}>\n            {!state.joined\n            ?(\n                  <Redirect to={'/'}/>\n             )\n            :(\n                  <Redirect to={'/userList'}/>\n            )}\n      </div>\n      <Route exact path={'/userList'}>\n        <UserList {...state} loading={loading}/>\n      </Route>\n      <Route exact path={'/'}>\n        <LoginField onLogin={onLogin} setLoading={setLoading}/>\n      </Route>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}